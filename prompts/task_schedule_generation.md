# 作業スケジュール生成プロンプト

## プロンプトテンプレート

```
【作物の作業スケジュール生成】

目的: 作物・品種の栽培に必要な作業をGDDベースでスケジュール化
用途: 農家の作業計画立案、効率的な栽培管理の支援

対象作物: {作物名} {品種名}

以下の情報を基に、科学的根拠に基づいた作業スケジュールを生成してください：

### 入力データ
- 作物名: {作物名}
- 品種: {品種名}
- ステージ要件: {ステージ要件}
- 作業一覧: {作業一覧}

### 生成要件
1. **ステージ順序の設定**: 各作業に適したステージ順序（stage_order）を設定
   - ステージ要件の順序に基づいて設定
   - 作業の性質を考慮した適切なステージ配置

2. **GDDトリガーの設定**: 各作業に適したGDDトリガーを設定
   - 開始時点の作業（土壌準備、播種）: gdd_trigger = 0, gdd_tolerance = 0
   - 継続的な作業（定植、除草、収穫）: gdd_trigger > 0, gdd_tolerance > 0

3. **優先度の設定**: 作業の重要度と緊急度に基づく優先度設定
   - 開始時点の作業: 優先度1-2
   - 継続的な作業: 優先度3-5

4. **天候条件の考慮**: 各作業の天候依存度に基づく実行条件設定
   - high: 厳しい条件（農薬散布、収穫）
   - medium: 中程度の条件（定植、収穫）
   - low: 緩い条件（土壌準備、播種、除草）

5. **作業間の依存関係**: 作業の実行順序と依存関係を考慮
   - 土壌準備 → 播種 → 定植 → 除草 → 収穫
   - 前作業の完了を待つ必要がある作業の配置

### 出力形式
```json
{
  "task_schedules": [
    {
      "task_id": "string",
      "stage_order": "number",
      "gdd_trigger": "number",
      "gdd_tolerance": "number",
      "priority": "number",
      "precipitation_max": "number",
      "wind_speed_max": "number",
      "temperature_min": "number",
      "temperature_max": "number",
      "description": "string"
    }
  ]
}
```

### 注意事項
- 農薬散布・病害虫防除、施肥・追肥は除外（別システムで管理）
- 基本的な農作業のみ対象（土壌準備、播種、定植、除草、収穫）
- 科学的根拠に基づいた設定
- 実用的で実行可能なスケジュール
- 天候条件を考慮した現実的な設定
- 作業間の依存関係を適切に考慮
```

## 使用例

### 例1: トマト 桃太郎
```
【作物の作業スケジュール生成】

対象作物: トマト 桃太郎

以下の情報を基に、科学的根拠に基づいた作業スケジュールを生成してください：

### 入力データ
- 作物名: トマト
- 品種: 桃太郎
- ステージ要件: [既存のステージ要件データ]
- 作業一覧: [既存の作業一覧データ]

[上記テンプレート内容]
```

### 例2: イネ コシヒカリ
```
【作物の作業スケジュール生成】

対象作物: イネ コシヒカリ

以下の情報を基に、科学的根拠に基づいた作業スケジュールを生成してください：

### 入力データ
- 作物名: イネ
- 品種: コシヒカリ
- ステージ要件: [既存のステージ要件データ]
- 作業一覧: [既存の作業一覧データ]

[上記テンプレート内容]
```

## 注意事項

### 重要な制約
- **農薬散布・病害虫防除は除外**: 別の最適化システムで管理
- **施肥・追肥は除外**: 別の最適化システムで管理
- **基本的な農作業のみ対象**: 土壌準備、播種、定植、除草、収穫

### 科学的根拠
- 作物の生理的発達に基づくGDD設定
- 天候条件を考慮した現実的な設定
- 作業間の依存関係を適切に考慮

### 実用性
- 農家が実際に実行可能なスケジュール
- 天候条件を考慮した柔軟性
- 作業効率を考慮した配置
