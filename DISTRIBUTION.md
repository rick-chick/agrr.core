# é…å¸ƒæ–¹æ³•ã‚¬ã‚¤ãƒ‰

## æ¦‚è¦

`agrr`ã®é…å¸ƒæ–¹æ³•ã¯ã€ã‚¿ãƒ¼ã‚²ãƒƒãƒˆç’°å¢ƒã«å¿œã˜ã¦è¤‡æ•°ã®é¸æŠè‚¢ãŒã‚ã‚Šã¾ã™ã€‚

## 1. Wheelãƒ‘ãƒƒã‚±ãƒ¼ã‚¸é…å¸ƒ â­ï¸ **æœ€ã‚‚æ¨å¥¨**

### ãƒ¡ãƒªãƒƒãƒˆ
- âœ… Pythonç’°å¢ƒãŒã‚ã‚Œã°å‹•ä½œï¼ˆPython 3.8+ï¼‰
- âœ… ä¾å­˜é–¢ä¿‚ãŒè‡ªå‹•ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«
- âœ… è»½é‡ï¼ˆ90KBï¼‰
- âœ… ã‚¯ãƒ­ã‚¹ãƒ—ãƒ©ãƒƒãƒˆãƒ•ã‚©ãƒ¼ãƒ å¯¾å¿œ

### ãƒ“ãƒ«ãƒ‰æ–¹æ³•
```bash
python3 -m build
```

### é…å¸ƒãƒ»ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«
```bash
# é…å¸ƒãƒ•ã‚¡ã‚¤ãƒ«
dist/agrr_core-0.1.0-py3-none-any.whl

# ãƒ¦ãƒ¼ã‚¶ãƒ¼å´ã§ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«
pip install agrr_core-0.1.0-py3-none-any.whl
agrr --help
```

## 2. ãƒã‚¤ãƒ†ã‚£ãƒ–ãƒã‚¤ãƒŠãƒªï¼ˆPyInstallerï¼‰âœ… **å‹•ä½œç¢ºèªæ¸ˆã¿**

### ãƒ¡ãƒªãƒƒãƒˆ
- âœ… Pythonç’°å¢ƒä¸è¦ã§å®Ÿè¡Œå¯èƒ½
- âœ… numpyã€pandasã€scipyãªã©ã®Cæ‹¡å¼µã‚’å®Œå…¨ãƒãƒ³ãƒ‰ãƒ«
- âœ… å˜ä¸€ãƒ•ã‚¡ã‚¤ãƒ«ã§é…å¸ƒå¯èƒ½

### ãƒ‡ãƒ¡ãƒªãƒƒãƒˆ
- âš ï¸ ãƒ•ã‚¡ã‚¤ãƒ«ã‚µã‚¤ã‚ºãŒå¤§ãã„ï¼ˆ113MBï¼‰
- âš ï¸ ãƒ“ãƒ«ãƒ‰ç’°å¢ƒã¨ã‚¿ãƒ¼ã‚²ãƒƒãƒˆç’°å¢ƒã®OS/ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ãŒä¸€è‡´å¿…è¦
- âš ï¸ Python 3.8ãŒå¿…è¦ï¼ˆ3.12ã¯libpython-devãŒå¿…è¦ï¼‰

### ãƒ“ãƒ«ãƒ‰æ–¹æ³•ï¼ˆLinux/WSLï¼‰
```bash
# Python 3.8ãŒå¿…è¦
./build_standalone.sh

# å‡ºåŠ›
# dist/agrr (113MB) - çœŸã®ãƒã‚¤ãƒ†ã‚£ãƒ–ELFãƒã‚¤ãƒŠãƒª
```

### å‹•ä½œç¢ºèª
```bash
./dist/agrr --help
./dist/agrr crop crop --query "ãƒˆãƒãƒˆ"
```

### é…å¸ƒ
```bash
# ãƒã‚¤ãƒŠãƒªãƒ•ã‚¡ã‚¤ãƒ«ã‚’ãã®ã¾ã¾é…å¸ƒ
# ãƒ¦ãƒ¼ã‚¶ãƒ¼ã¯Pythonç’°å¢ƒä¸è¦ã§å®Ÿè¡Œå¯èƒ½
chmod +x agrr
./agrr --help
```

## 3. Docker ğŸ³ **çœŸã®ã‚¹ã‚¿ãƒ³ãƒ‰ã‚¢ãƒ­ãƒ³**

### ãƒ¡ãƒªãƒƒãƒˆ
- âœ… Pythonç’°å¢ƒä¸è¦
- âœ… å®Œå…¨ã«éš”é›¢ã•ã‚ŒãŸç’°å¢ƒ
- âœ… ä¾å­˜é–¢ä¿‚ã®å•é¡Œãªã—
- âœ… ã‚¯ãƒ­ã‚¹ãƒ—ãƒ©ãƒƒãƒˆãƒ•ã‚©ãƒ¼ãƒ 

### ä½¿ç”¨æ–¹æ³•
```bash
# ã‚¤ãƒ¡ãƒ¼ã‚¸ã‚’ãƒ“ãƒ«ãƒ‰
docker build -t agrr .

# å®Ÿè¡Œ
docker run --rm agrr --help
docker run --rm agrr weather --location 35.6762,139.6503 --days 7
docker run --rm agrr crop crop --query "ãƒˆãƒãƒˆ"

# ã‚¨ã‚¤ãƒªã‚¢ã‚¹ã‚’ä½œæˆï¼ˆä¾¿åˆ©ï¼‰
alias agrr='docker run --rm agrr'
agrr --help
```

### é…å¸ƒæ–¹æ³•
```bash
# Dockerã‚¤ãƒ¡ãƒ¼ã‚¸ã‚’ä¿å­˜
docker save agrr > agrr-docker.tar

# ãƒ¦ãƒ¼ã‚¶ãƒ¼å´ã§èª­ã¿è¾¼ã¿
docker load < agrr-docker.tar
```

## 4. ã‚·ã‚¹ãƒ†ãƒ ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ï¼ˆ.deb/.rpmï¼‰

### Ubuntu/Debianã®å ´åˆ
```bash
# fpm ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«
gem install fpm

# .debãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã‚’ä½œæˆ
fpm -s python -t deb \
    --python-pip /usr/bin/pip3 \
    --python-package-name-prefix python3 \
    agrr_core
```

## 5. PyPIå…¬é–‹ï¼ˆæœ€ã‚‚ç°¡å˜ï¼‰

### å…¬é–‹å¾Œ
```bash
# ã©ã“ã‹ã‚‰ã§ã‚‚ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«å¯èƒ½
pip install agrr-core
agrr --help
```

## æ¨å¥¨é…å¸ƒæ–¹æ³•

### ä¸€èˆ¬ãƒ¦ãƒ¼ã‚¶ãƒ¼å‘ã‘
1. **PyPIå…¬é–‹** - `pip install agrr-core`ã§å®Œçµ
2. **Wheelãƒ‘ãƒƒã‚±ãƒ¼ã‚¸** - ã‚ªãƒ•ãƒ©ã‚¤ãƒ³ç’°å¢ƒã§ã‚‚ä½¿ç”¨å¯èƒ½

### ä¼æ¥­/ã‚¨ãƒ³ã‚¿ãƒ¼ãƒ—ãƒ©ã‚¤ã‚ºå‘ã‘
1. **Docker** - ç’°å¢ƒã®å®Œå…¨ãªéš”é›¢
2. **ã‚·ã‚¹ãƒ†ãƒ ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸** - OSæ¨™æº–ã®ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ãƒãƒãƒ¼ã‚¸ãƒ£ãƒ¼ã§ç®¡ç†

### æŠ€è¡“è€…å‘ã‘
1. **GitHubã‹ã‚‰ç›´æ¥** - `pip install git+https://github.com/...`
2. **Wheelãƒ‘ãƒƒã‚±ãƒ¼ã‚¸** - ãƒ­ãƒ¼ã‚«ãƒ«ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«

## çœŸã®ãƒã‚¤ãƒ†ã‚£ãƒ–ãƒã‚¤ãƒŠãƒªãŒé›£ã—ã„ç†ç”±

Pythonã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ï¼ˆç‰¹ã«Cæ‹¡å¼µã‚’å«ã‚€ï¼‰ã‚’çœŸã®ãƒã‚¤ãƒ†ã‚£ãƒ–ãƒã‚¤ãƒŠãƒªã«ã™ã‚‹å ´åˆï¼š

1. **Cæ‹¡å¼µã®å•é¡Œ**
   - numpy, pandas, scipyãªã©ã¯Cã§æ›¸ã‹ã‚Œã¦ã„ã‚‹
   - å‹•çš„ãƒªãƒ³ã‚¯ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã«ä¾å­˜
   - ãƒãƒ³ãƒ‰ãƒ«ãŒéå¸¸ã«è¤‡é›‘

2. **ç’°å¢ƒä¾å­˜**
   - libpythonã€libcãªã©ã®ã‚·ã‚¹ãƒ†ãƒ ãƒ©ã‚¤ãƒ–ãƒ©ãƒªãŒå¿…è¦
   - ãƒ“ãƒ«ãƒ‰ç’°å¢ƒã¨ã‚¿ãƒ¼ã‚²ãƒƒãƒˆç’°å¢ƒã®ä¸€è‡´ãŒå¿…é ˆ

3. **ãƒ•ã‚¡ã‚¤ãƒ«ã‚µã‚¤ã‚º**
   - ã™ã¹ã¦ã®ä¾å­˜é–¢ä¿‚ã‚’å«ã‚ã‚‹ã¨100MBä»¥ä¸Š
   - Wheelãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ï¼ˆ90KBï¼‰ã®1000å€ä»¥ä¸Š

4. **å®Ÿç”¨æ€§**
   - Pythonã‚¨ã‚³ã‚·ã‚¹ãƒ†ãƒ ã§ã¯`pip install`ãŒæ¨™æº–
   - ãƒã‚¤ãƒ†ã‚£ãƒ–ãƒã‚¤ãƒŠãƒªã¯ä¾‹å¤–çš„ãªä½¿ç”¨ä¾‹

## çµè«–

**Wheelãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ + pip installãŒæœ€ã‚‚å®Ÿç”¨çš„ã§ã™ã€‚**

Pythonç’°å¢ƒãŒä¸è¦ãªå ´åˆã¯**Docker**ã‚’ä½¿ç”¨ã—ã¦ãã ã•ã„ã€‚

